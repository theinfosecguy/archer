name: Notion
description: Template for validating Notion integration token.

api_url: "https://api.notion.com/v1/users/me"
method: GET

request:
  headers:
    Authorization: "Bearer ${SECRET}"
    Notion-Version: "2022-06-28"
    User-Agent: "archer/1.0"
  timeout: 10

success_criteria:
  status_code: [200]
  required_fields:
    - "object"
    - "id"
    - "type"

error_handling:
  max_retries: 2
  retry_delay: 1
  error_messages:
    401: "Invalid or expired Notion token"
    403: "Token lacks required permissions"
    400: "Invalid request format"
    404: "Notion API endpoint not accessible"